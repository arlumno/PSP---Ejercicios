package tesTing;

import java.io.InputStream;


/*
 * 1. Escribe una clase llamada Ejecuta que reciba como argumentos el comando y las opciones del comando que se quiere ejecutar. 
 * 	El programa debe crear un proceso hijo que ejecute el comando con las opciones
	correspondientes mostrando un mensaje de error
	en el caso de que no se realizase correctamente la
	ejecución. El padre debe esperar a que el hijo termine de informar si se produjo alguna anomalía en la
	ejecución del hijo
 */
public class Ejecuta {
	public static void main(String[] args) {
		// TODO Auto-generated constructor stub
		/*
		String comando = args[0];
		List<String> lista = Arrays.asList(args);
		lista.remove(0);
		String[] opciones = new String[lista.size()]; 
		opciones = lista.toArray(opciones);
		*/
		switch(args.length) {
			case 0:
				System.out.println("Error: La petición no contiene argumentos");
				break;
			case 1:
				System.out.println("Error: La petición no contiene opciones");
				break;
			default:
					
				ProcessBuilder pb = new ProcessBuilder(args);
				try {
					Process p = pb.start();
					InputStream is = p.getErrorStream();
					StringBuilder errores = new StringBuilder();
					int c;			
					while ((c = is.read()) != -1) {
						System.out.print((char) c);
						errores.append(c);
					}
					is.close();
				}catch (Exception e) {
					// TODO: handle exception
				}
		
		}
	}
}
